<!--
  Internal SIP Profile for sofia-phone development

  This profile allows softphone (Zoiper) connections for testing.

  Port: 5060 (SIP)
  RTP: 16384-32768

  Copy this to: /opt/homebrew/etc/freeswitch/sip_profiles/
-->

<profile name="internal">
  <settings>
    <!-- Bind to all interfaces -->
    <param name="sip-ip" value="$${local_ip_v4}"/>
    <param name="sip-port" value="5060"/>
    <param name="rtp-ip" value="$${local_ip_v4}"/>

    <!-- RTP port range -->
    <param name="rtp-start-port" value="16384"/>
    <param name="rtp-end-port" value="32768"/>

    <!-- Dialplan context -->
    <param name="context" value="public"/>
    <param name="dialplan" value="XML"/>

    <!-- Codec preferences (telephony quality) -->
    <param name="inbound-codec-prefs" value="PCMU,PCMA"/>
    <param name="outbound-codec-prefs" value="PCMU,PCMA"/>

    <!-- NAT settings -->
    <param name="apply-nat-acl" value="nat.auto"/>
    <param name="aggressive-nat-detection" value="true"/>

    <!-- Authentication (disabled for local testing) -->
    <param name="auth-calls" value="false"/>
    <param name="challenge-realm" value="auto_from"/>

    <!-- Enable Event Socket Layer for sofia-phone -->
    <param name="manage-presence" value="false"/>
    <param name="manage-shared-appearance" value="false"/>

    <!-- Logging -->
    <param name="log-level" value="info"/>
    <param name="debug-presence" value="0"/>

    <!-- Session limits -->
    <param name="max-proceeding" value="1000"/>
  </settings>
</profile>
